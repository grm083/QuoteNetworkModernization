<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>49.0</apiVersion>
    <assignments>
        <name>Assign_Asset_into_list</name>
        <label>Assign Asset into list</label>
        <locationX>1744</locationX>
        <locationY>778</locationY>
        <assignmentItems>
            <assignToReference>varinserCaseAssetlst</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>VarCreateCaseAsset</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>traverse_through_child_assets</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Assign Case Asset</description>
        <name>Assign_CaseAsse</name>
        <label>Assign CaseAsset</label>
        <locationX>1880</locationX>
        <locationY>778</locationY>
        <assignmentItems>
            <assignToReference>VarCreateCaseAsset.AssetId__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>varChildAsset.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>VarCreateCaseAsset.Asset_Header__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>varParentAssetId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>VarCreateCaseAsset.CaseId__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>varCaseId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_Asset_into_list</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Commercial_AD_to_collection</name>
        <label>Assign Commercial AD to collection</label>
        <locationX>1295</locationX>
        <locationY>1304</locationY>
        <assignmentItems>
            <assignToReference>childAssetList</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>varCommercialAD</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_through_Commercial_ADs</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Rolloff_Ad_to_Collection</name>
        <label>Assign Rolloff Ad to Collection</label>
        <locationX>1098</locationX>
        <locationY>222</locationY>
        <assignmentItems>
            <assignToReference>childAssetList</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>varRolloffAd</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_through_Rolloff</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Supplier_Value</name>
        <label>Assign Supplier Value</label>
        <locationX>2112</locationX>
        <locationY>592</locationY>
        <assignmentItems>
            <assignToReference>SupplieValue</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>varChildAsset.Supplier__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_CaseAsse</targetReference>
        </connector>
    </assignments>
    <decisions>
        <name>Check_for_Supplier_Field_Value</name>
        <label>Null check of Supplier Field</label>
        <locationX>1871</locationX>
        <locationY>594</locationY>
        <defaultConnector>
            <targetReference>Assign_CaseAsse</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>If_Supplier_Value_is_available</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>SupplieValue</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Supplier_Value</targetReference>
            </connector>
            <label>If Supplier Value is available</label>
        </rules>
    </decisions>
    <decisions>
        <name>Commercial_Decision</name>
        <label>Commercial Decision</label>
        <locationX>1320</locationX>
        <locationY>1155</locationY>
        <defaultConnector>
            <targetReference>Loop_through_Commercial_ADs</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Scheduled_or_On_Call</name>
            <conditionLogic>1 OR 2</conditionLogic>
            <conditions>
                <leftValueReference>varCommercialAD.Occurrence_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Scheduled</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>varCommercialAD.Occurrence_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>On-Call</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Commercial_AD_to_collection</targetReference>
            </connector>
            <label>Scheduled or On Call</label>
        </rules>
    </decisions>
    <decisions>
        <name>Flow_for_checking_asset_attributes</name>
        <label>Flow for checking asset attributes</label>
        <locationX>656</locationX>
        <locationY>694</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>If_Parent_Asset_is_Roll_Off</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>varParentAssetForCase.ProductFamily</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Rolloff</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>get_Related_Child_Assets_for_Rolloff</targetReference>
            </connector>
            <label>If Parent Asset is Roll Off</label>
        </rules>
        <rules>
            <name>If_Parent_Asset_is_On_Commerical</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>varParentAssetForCase.ProductFamily</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Commercial</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Related_Asset_Details_for_Commercial</targetReference>
            </connector>
            <label>If Parent Asset is Commerical</label>
        </rules>
        <rules>
            <name>If_Parent_Asset_is_Services</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>varParentAssetForCase.ProductFamily</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Services</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Related_Assets_for_Service_Product_Family</targetReference>
            </connector>
            <label>If Parent Asset is Services</label>
        </rules>
        <rules>
            <name>No_Auto_Add_Case_Assets</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>varParentAssetForCase.ProductFamily</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Commerical</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>varParentAssetForCase.ProductFamily</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Rolloff</stringValue>
                </rightValue>
            </conditions>
            <label>No Auto Add Case Assets</label>
        </rules>
    </decisions>
    <decisions>
        <name>get_Active_Case_Assets_In_Case</name>
        <label>get Active Case Assets In Case</label>
        <locationX>1732</locationX>
        <locationY>442</locationY>
        <defaultConnector>
            <targetReference>traverse_through_child_assets</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>is_Active_Asset</name>
            <conditionLogic>((1  AND ( 2 OR 3 OR 4)) OR ((5 OR 6) AND (3 OR 4)))</conditionLogic>
            <conditions>
                <leftValueReference>varChildAsset.Start_Date__c</leftValueReference>
                <operator>LessThanOrEqualTo</operator>
                <rightValue>
                    <elementReference>varServiceDate</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>varChildAsset.End_Date__c</leftValueReference>
                <operator>GreaterThanOrEqualTo</operator>
                <rightValue>
                    <elementReference>varServiceDate</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>varChildAsset.End_Date__c</leftValueReference>
                <operator>EqualTo</operator>
            </conditions>
            <conditions>
                <leftValueReference>varChildAsset.End_Date__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>varChildAsset.Start_Date__c</leftValueReference>
                <operator>EqualTo</operator>
            </conditions>
            <conditions>
                <leftValueReference>varChildAsset.Start_Date__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Check_for_Supplier_Field_Value</targetReference>
            </connector>
            <label>is Active Asset</label>
        </rules>
    </decisions>
    <decisions>
        <description>if  no child assets present</description>
        <name>null</name>
        <label>Null</label>
        <locationX>1225</locationX>
        <locationY>623</locationY>
        <defaultConnector>
            <targetReference>traverse_through_child_assets</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>If_Child_assets_are_not_null</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>childAssetList</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>traverse_through_child_assets</targetReference>
            </connector>
            <label>If Child assets are not null</label>
        </rules>
    </decisions>
    <decisions>
        <name>null_Case_Assets</name>
        <label>null Case Assets</label>
        <locationX>381</locationX>
        <locationY>1281</locationY>
        <defaultConnector>
            <targetReference>delete_the_case_assets_for_different_parent</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>no_existing_case_asset_record</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>varCaseAsset</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Flow_for_checking_asset_attributes</targetReference>
            </connector>
            <label>no existing case asset record</label>
        </rules>
    </decisions>
    <decisions>
        <name>null_or_blank_asset_id</name>
        <label>null or blank asset id</label>
        <locationX>250</locationX>
        <locationY>620</locationY>
        <defaultConnector>
            <targetReference>get_Related_Parent_Asset</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>null_or_blank</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>varParentAssetId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>varParentAssetId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>get_Existing_Case_Asset_Records</targetReference>
            </connector>
            <label>null or blank</label>
        </rules>
    </decisions>
    <decisions>
        <name>null_parent_asset</name>
        <label>null parent asset</label>
        <locationX>180</locationX>
        <locationY>959</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>is_parent_asset_is_not_null</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>varParentAssetForCase</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>get_Existing_Case_Asset_Records</targetReference>
            </connector>
            <label>is parent asset is not  null</label>
        </rules>
    </decisions>
    <description>add records to case asset related list for particular case (Kyle 5/22/19, 11:45am EST, updated)</description>
    <formulas>
        <name>SystemDate</name>
        <dataType>Date</dataType>
        <expression>{!$Flow.CurrentDate}</expression>
    </formulas>
    <formulas>
        <name>UserId</name>
        <dataType>String</dataType>
        <expression>CASESAFEID({!$User.Id})</expression>
    </formulas>
    <interviewLabel>Add Case Assets {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Add Case Assets</label>
    <loops>
        <name>Loop_through_Commercial_ADs</name>
        <label>Loop through Commercial ADs</label>
        <locationX>1165</locationX>
        <locationY>1260</locationY>
        <assignNextValueToReference>varCommercialAD</assignNextValueToReference>
        <collectionReference>varCommercialADs</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Commercial_Decision</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>null</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Loop_through_Rolloff</name>
        <label>Loop through Rolloff</label>
        <locationX>879</locationX>
        <locationY>231</locationY>
        <assignNextValueToReference>varRolloffAd</assignNextValueToReference>
        <collectionReference>varRollofADs</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Assign_Rolloff_Ad_to_Collection</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>null</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>traverse_through_child_assets</name>
        <label>traverse through child assets</label>
        <locationX>1496</locationX>
        <locationY>778</locationY>
        <assignNextValueToReference>varChildAsset</assignNextValueToReference>
        <collectionReference>childAssetList</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>get_Active_Case_Assets_In_Case</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Insert_Asset</targetReference>
        </noMoreValuesConnector>
    </loops>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordCreates>
        <name>Insert_Asset</name>
        <label>Insert Asset</label>
        <locationX>1498</locationX>
        <locationY>949</locationY>
        <connector>
            <targetReference>Update_vendor_on_case</targetReference>
        </connector>
        <inputReference>varinserCaseAssetlst</inputReference>
    </recordCreates>
    <recordDeletes>
        <name>delete_the_case_assets_for_different_parent</name>
        <label>delete the case assets for different parent</label>
        <locationX>428</locationX>
        <locationY>635</locationY>
        <connector>
            <targetReference>Flow_for_checking_asset_attributes</targetReference>
        </connector>
        <inputReference>varCaseAsset</inputReference>
    </recordDeletes>
    <recordLookups>
        <name>Get_Commercial_ADs</name>
        <label>Get Commercial ADs</label>
        <locationX>955</locationX>
        <locationY>1173</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Loop_through_Commercial_ADs</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Is_Active__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Is_Core_Service__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Service_Header_Id__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>varParentAssetId</elementReference>
            </value>
        </filters>
        <filters>
            <field>Service_Type__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Pickup</stringValue>
            </value>
        </filters>
        <object>Asset</object>
        <outputReference>varCommercialADs</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Has_Extra_Pickup__c</queriedFields>
        <queriedFields>Occurrence_Type__c</queriedFields>
        <queriedFields>Supplier__c</queriedFields>
        <queriedFields>Start_Date__c</queriedFields>
        <queriedFields>End_Date__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>get_Existing_Case_Asset_Records</name>
        <label>get Existing Case Asset Records</label>
        <locationX>309</locationX>
        <locationY>1153</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>null_Case_Assets</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>CaseId__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>varCaseId</elementReference>
            </value>
        </filters>
        <object>SBS_Case_Asset__c</object>
        <outputReference>varCaseAsset</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Asset_Header__c</queriedFields>
        <queriedFields>CaseId__c</queriedFields>
        <queriedFields>AssetId__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <description>Get the related asset details for the Commerical parent asset.</description>
        <name>Get_Related_Asset_Details_for_Commercial</name>
        <label>Get Related Asset Details for Commercial</label>
        <locationX>673</locationX>
        <locationY>1155</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Commercial_ADs</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Is_Active__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Is_Core_Service__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Service_Header_Id__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>varParentAssetId</elementReference>
            </value>
        </filters>
        <object>Asset</object>
        <outputReference>childAssetList</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Occurrence_Type__c</queriedFields>
        <queriedFields>Has_Extra_Pickup__c</queriedFields>
        <queriedFields>Supplier__c</queriedFields>
        <queriedFields>Start_Date__c</queriedFields>
        <queriedFields>End_Date__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <description>Get the related asset details for the Services parent asset.</description>
        <name>Get_Related_Assets_for_Service_Product_Family</name>
        <label>Get Related Assets for Service Product Family</label>
        <locationX>908</locationX>
        <locationY>789</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>null</targetReference>
        </connector>
        <filterLogic>1 AND 2 AND (3 OR 4)</filterLogic>
        <filters>
            <field>Is_Active__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Service_Header_Id__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>varParentAssetId</elementReference>
            </value>
        </filters>
        <filters>
            <field>Service_Type__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Bulk</stringValue>
            </value>
        </filters>
        <filters>
            <field>Service_Type__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Got Junk Pickup</stringValue>
            </value>
        </filters>
        <object>Asset</object>
        <outputReference>childAssetList</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Occurrence_Type__c</queriedFields>
        <queriedFields>Has_Extra_Pickup__c</queriedFields>
        <queriedFields>Supplier__c</queriedFields>
        <queriedFields>Start_Date__c</queriedFields>
        <queriedFields>End_Date__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <description>get the related asset details for given parent asset</description>
        <name>get_Related_Child_Assets_for_Rolloff</name>
        <label>get Related Child Assets for Rolloff</label>
        <locationX>559</locationX>
        <locationY>246</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Rolloff_Core_AD</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Is_Active__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Is_Core_Service__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Service_Header_Id__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>varParentAssetId</elementReference>
            </value>
        </filters>
        <object>Asset</object>
        <outputReference>childAssetList</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Has_Extra_Pickup__c</queriedFields>
        <queriedFields>Occurrence_Type__c</queriedFields>
        <queriedFields>Supplier__c</queriedFields>
        <queriedFields>Start_Date__c</queriedFields>
        <queriedFields>End_Date__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <description>retrieve the related parent asset record</description>
        <name>get_Related_Parent_Asset</name>
        <label>get Related Parent Asset</label>
        <locationX>299</locationX>
        <locationY>775</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>null_parent_asset</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>varParentAssetId</elementReference>
            </value>
        </filters>
        <object>Asset</object>
        <outputReference>varParentAssetForCase</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Occurrence_Type__c</queriedFields>
        <queriedFields>ProductFamily</queriedFields>
        <queriedFields>Name</queriedFields>
        <queriedFields>Is_Core_Service__c</queriedFields>
        <queriedFields>Service_Type__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Get_Rolloff_Core_AD</name>
        <label>Get Rolloff Core AD</label>
        <locationX>671</locationX>
        <locationY>238</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Loop_through_Rolloff</targetReference>
        </connector>
        <filterLogic>1 AND 2 AND 3 AND (4 OR 5)</filterLogic>
        <filters>
            <field>Is_Active__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Is_Core_Service__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Service_Header_Id__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>varParentAssetId</elementReference>
            </value>
        </filters>
        <filters>
            <field>Service_Type__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Disposal</stringValue>
            </value>
        </filters>
        <filters>
            <field>Service_Type__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Recycling</stringValue>
            </value>
        </filters>
        <object>Asset</object>
        <outputReference>varRollofADs</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Has_Extra_Pickup__c</queriedFields>
        <queriedFields>Occurrence_Type__c</queriedFields>
        <queriedFields>Supplier__c</queriedFields>
        <queriedFields>Start_Date__c</queriedFields>
        <queriedFields>End_Date__c</queriedFields>
    </recordLookups>
    <recordUpdates>
        <description>Fetch vendor value on case</description>
        <name>Update_vendor_on_case</name>
        <label>Update vendor on case</label>
        <locationX>1751</locationX>
        <locationY>949</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>varCaseId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Supplier__c</field>
            <value>
                <elementReference>SupplieValue</elementReference>
            </value>
        </inputAssignments>
        <object>Case</object>
    </recordUpdates>
    <startElementReference>null_or_blank_asset_id</startElementReference>
    <status>Active</status>
    <variables>
        <description>list of child assets corresponding to given parent</description>
        <name>childAssetList</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Asset</objectType>
    </variables>
    <variables>
        <description>Stores the supplier value of Asset</description>
        <name>SupplieValue</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varAssetRecordType</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>varCaseAsset</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>SBS_Case_Asset__c</objectType>
    </variables>
    <variables>
        <name>varCaseAssetList</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>SBS_Case_Asset__c</objectType>
    </variables>
    <variables>
        <name>varCaseAssetRec</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>SBS_Case_Asset__c</objectType>
    </variables>
    <variables>
        <description>case id of related case</description>
        <name>varCaseId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <description>related case record</description>
        <name>varCaseRecord</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Case</objectType>
    </variables>
    <variables>
        <name>varChildAsset</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Asset</objectType>
    </variables>
    <variables>
        <name>varCommercialAD</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Asset</objectType>
    </variables>
    <variables>
        <name>varCommercialADs</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Asset</objectType>
    </variables>
    <variables>
        <name>VarCreateCaseAsset</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>SBS_Case_Asset__c</objectType>
    </variables>
    <variables>
        <name>varinserCaseAssetlst</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>SBS_Case_Asset__c</objectType>
    </variables>
    <variables>
        <name>varInsertedEvent</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>record of parent asset for case</description>
        <name>varParentAssetForCase</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Asset</objectType>
    </variables>
    <variables>
        <name>varParentAssetId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>varRollofADs</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Asset</objectType>
    </variables>
    <variables>
        <name>varRolloffAd</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Asset</objectType>
    </variables>
    <variables>
        <name>varServiceDate</name>
        <dataType>Date</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
</Flow>
