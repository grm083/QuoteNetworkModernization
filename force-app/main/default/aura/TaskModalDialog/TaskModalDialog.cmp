<aura:component controller="ValidateTaskToPopMessage" implements="flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId" access="global" >
    <aura:attribute name="Task" type="Object"/>
	<aura:attribute name="caseObj" type="Object"/>
    <aura:attribute name="taskRecord" type="Object"/>
     <aura:attribute name="columns" type="List"/>
     <aura:dependency resource="markup://force:navigateToSObject" type="EVENT"/>
	<aura:attribute name="caseLst" type="Case[]" /> 
    <aura:handler event="force:refreshView" action="{!c.myAction}"/>
    
    <!--force:recordData aura:id="recordLoader"
                      recordId="{!v.recordId}" 
                      layoutType="FULL"
                      targetRecord="{!v.Task}"
                      targetFields="{!v.taskRecord}"
                      fields="Id,Process__c,Outcome__c" 
                      mode="VIEW"
                      recordUpdated="{!c.myAction}"
                      /-->
    
     <aura:if isTrue="{!v.caseLst.length>0}">
        <div role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open slds-modal_medium" style="position:fixed !important;" >
           
            <div class="slds-modal__container">
                <div class="slds-modal__header">
                     
                      <lightning:icon iconName="action:new_case" size="xx-small"/> A new related case has been created.  Please access this case via the Related Cases section below.
                <p> <div class="newline">
                   
                    <aura:iteration items="{!v.caseLst}" var="case">
                        Case Number <a data-id="{!case.Id}" onclick="{!c.navigateToCase}"> {!case.CaseNumber}</a><br/>
                    </aura:iteration>
                </div> </p>
                    <lightning:buttonIcon iconName="utility:close"
                                          onclick="{!c.cancelAction}"
                                          alternativeText="close"
                                          class="slds-modal__close"/>    
              	</div> 
            </div> 
         </div>
         <div class="slds-backdrop slds-backdrop_open" style="position:fixed !important;"></div>
         </aura:if> 
    <aura:if isTrue="{!v.caseObj!=null}">
    <div role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open slds-modal_medium" style="position:fixed !important;" >
        <div class="slds-modal__container">
            <div class="slds-modal__header">
                    <lightning:icon iconName="action:new_case" size="xx-small"/>
                    Please navigate to Create Case/Task tab on the original Case  
                    <a data-id="{!v.caseObj.Id}" onclick="{!c.navigateToCase}"> {!v.caseObj.CaseNumber}</a>
                    to create a New Case/ WO
                <lightning:buttonIcon iconName="utility:close"
                                      onclick="{!c.cancelAction}"
                                      alternativeText="close"
                                      class="slds-modal__close"/>    
            </div> 
        </div> 
     </div>
        <div class="slds-backdrop slds-backdrop_open" style="position:fixed !important;"></div>
    </aura:if>
         
                   
</aura:component>